<nav class="nav">
  <div class="nav-inner">
    <a class="brand" href="{{ url_for('home.home') }}">RentEurope</a>

    <button class="nav-toggle" aria-label="Toggle menu" onclick="toggleNav()">?</button>

    {% set p = request.path %}

    <div id="navLinks" class="nav-links">
      <a class="nav-link {% if p == '/' %}active{% endif %}"
         href="{{ url_for('home.home') }}">Home</a>

      <a class="nav-link {% if p.startswith('/explore') %}active{% endif %}"
         href="{{ url_for('explore.explore') }}">Explore</a>

      <a class="nav-link {% if p.startswith('/listings') %}active{% endif %}"
         href="{{ url_for('listings.new_listing') }}">Post</a>

      <a class="nav-link {% if p.startswith('/messages') %}active{% endif %}"
         href="{{ url_for('messages.inbox') }}">Messages</a>

      <div class="nav-right">
        {% if current_user.is_authenticated %}
          <span class="chip">{{ current_user.full_name or current_user.email }}</span>
          <a class="btn btn-ghost" href="{{ url_for('auth.logout') }}">Logout</a>
        {% else %}
          <!-- Login is blue ONLY on /login -->
          <a class="btn {% if p.startswith('/login') %}btn-primary{% else %}btn-dark{% endif %}"
             href="{{ url_for('auth.login') }}">Login</a>

          <!-- Sign up is blue on all pages except /signup (where it becomes dark) -->
          <a class="btn {% if p.startswith('/signup') %}btn-dark{% else %}btn-primary{% endif %}"
             href="{{ url_for('auth.signup') }}">Sign up</a>
        {% endif %}
      </div>
    </div>
  </div>
</nav>